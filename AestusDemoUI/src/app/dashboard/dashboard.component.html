<div class="home-container" [@fadeIn]>


  @if (isLoading) {
  <div class="loading-progress ">
    <mat-spinner color="primary"></mat-spinner>
  </div>
  }


  @else {
  <div class="dashboard-wrapper">

    <div class="top-section">
      <mat-card class="home-card info-card">
        <h2 class="title">Status</h2>

        <div class="chip-group">
          <mat-chip class="chip green-chip" selected>
            <mat-icon class="info">payments</mat-icon>
            <span>Ukupan broj transakcija: {{ totalTransactions }}</span>
          </mat-chip>

          <mat-chip class="chip" selected>
            <mat-icon class="info">account_balance_wallet</mat-icon>
            Ukupna vrijednost: {{ totalAmount | currency:'EUR' }}
          </mat-chip>

          <mat-chip class="chip red-chip" selected>
            <mat-icon class="danger">report_problem</mat-icon>
            Sumnjive transakcije: {{ suspiciousTransactionsCount }}
          </mat-chip>
        </div>
      </mat-card>

      <mat-card class="home-card chart-card">
        <h2 class="title">Traffic Chart</h2>
        <!-- <canvas baseChart
          [data]="chartData"
          [labels]="chartLabels"
          [type]="chartType"
          [options]="chartOptions">
        </canvas> -->
      </mat-card>
    </div>

    <!-- Bottom: Table -->
    <mat-card class="home-card table-card">
      <h2 class="title">User Activity</h2>
      <table mat-table [dataSource]="tableData"
        class="mat-elevation-z2 full-width-table">

        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Name</th>
          <td mat-cell *matCellDef="let element">{{element.name}}</td>
        </ng-container>

        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let element">{{element.status}}</td>
        </ng-container>

        <ng-container matColumnDef="lastActive">
          <th mat-header-cell *matHeaderCellDef>Last Active</th>
          <td mat-cell *matCellDef="let element">{{element.lastActive}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card>

  </div>
  }

</div>